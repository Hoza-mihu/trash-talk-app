# Training Configuration for Waste Classification Model

# Dataset Configuration
dataset:
  name: "waste-classification"
  path: "data/raw"
  classes:
    - plastic
    - paper-and-cardboard
    - glass
    - organic-waste
    - metal
    - textiles
  num_classes: 6
  
  # Data Split
  train_split: 0.7
  val_split: 0.2
  test_split: 0.1
  
  # Image Properties
  image_size: 224
  channels: 3
  
  # Data Loading
  batch_size: 32
  shuffle: true
  seed: 42

# Data Augmentation
augmentation:
  enabled: true
  rotation_range: 30
  width_shift_range: 0.2
  height_shift_range: 0.2
  shear_range: 0.2
  zoom_range: 0.2
  horizontal_flip: true
  vertical_flip: false
  fill_mode: "nearest"
  brightness_range: [0.8, 1.2]
  
# Model Architecture
model:
  type: "mobilenet"  # Options: cnn, mobilenet, efficientnet, resnet
  
  # CNN Configuration (kept for completeness if you switch back)
  cnn:
    filters: [32, 64, 128, 256]
    kernel_size: 3
    pool_size: 2
    dropout: 0.5
    
  # Transfer Learning
  transfer_learning:
    base_model: "MobileNetV2"  # Options: MobileNetV2, EfficientNetB0, ResNet50
    weights: "imagenet"
    freeze_layers: true       # start with base frozen, then unfreeze for fine-tuning
    fine_tune_at: 120
    
  # Dense Layers
  dense_layers: [512, 256]
  activation: "relu"
  final_activation: "softmax"

# Training Configuration
training:
  epochs: 40
  initial_learning_rate: 0.00001
  optimizer: "adam"  # Options: adam, sgd, rmsprop
  loss: "categorical_crossentropy"
  metrics: ["accuracy"]
  
  # Learning Rate Schedule
  lr_schedule:
    enabled: true
    type: "reduce_on_plateau"  # Options: reduce_on_plateau, exponential, step
    factor: 0.5
    patience: 3
    min_lr: 0.00001
    
  # Early Stopping
  early_stopping:
    enabled: true
    patience: 5
    monitor: "val_loss"
    restore_best_weights: true
    
  # Callbacks
  callbacks:
    tensorboard: true
    model_checkpoint: true
    csv_logger: true

# Model Saving
saving:
  model_dir: "models/final"
  checkpoint_dir: "models/checkpoints"
  save_format: "h5"  # Options: h5, tf, onnx
  save_best_only: true
  monitor: "val_accuracy"
  mode: "max"

# Evaluation
evaluation:
  metrics:
    - accuracy
    - precision
    - recall
    - f1_score
  confusion_matrix: true
  classification_report: true
  
# Hardware
hardware:
  gpu: true
  mixed_precision: false
  memory_growth: true

# Logging
logging:
  level: "INFO"
  save_logs: true
  log_dir: "logs"
  